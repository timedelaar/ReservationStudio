var rootUrl="/app/";(function(){"use strict";angular.module("ReservationStudio",["ngRoute","ui.bootstrap"])})(),function(){"use strict";function n(n){n.when("/",{templateUrl:rootUrl+"Home/Index.html",controller:"HomeController",controllerAs:"ctrl"}).when("/Company/",{templateUrl:rootUrl+"Company/company.html",controller:"companyController",controllerAs:"companyList"}).when("/Company/CompanyAdd",{templateUrl:rootUrl+"Company/companyAdd.html",controller:"companyController",controllerAs:"companyList"}).when("/Company/CompanyEdit/:id",{templateUrl:rootUrl+"Company/companyAdd.html",controller:"companyController",controllerAs:"companyList",resolve:{company:["companyService","$route",function(n,t){var i=parseInt(t.current.params.id);return n.get(i)}]}}).when("/Reservation/",{templateUrl:rootUrl+"Reservation/reservations.html",controller:"reservationController"}).when("/Room/",{templateUrl:rootUrl+"Room/room.html",controller:"RoomController",controllerAs:"roomList"}).when("/Room/RoomAdd",{templateUrl:rootUrl+"Room/roomAdd.html",controller:"RoomController",controllerAs:"roomList"}).when("/Room/RoomEdit/:id",{templateUrl:rootUrl+"Room/roomAdd.html",controller:"RoomEditController",controllerAs:"roomList",resolve:{room:["RoomService","$route",function(n,t){var i=parseInt(t.current.params.id);return n.get(i)}]}}).otherwise({redirectTo:"/"})}angular.module("ReservationStudio").config(["$routeProvider",n])}();angular.module("ReservationStudio").controller("companyController",function(n){var t=this;t.companies=function(){return n.getCompanies()};t.addCompany=function(){var i={name:t.name,employees:t.employees,location:t.location};n.addCompany(i);$("#confirmAddCompany").modal("hide")};t.deleteCompany=function(t){var i=t;n.deleteCompany(i);$("#confirmDeleteCompany").modal("hide")}});angular.module("ReservationStudio").service("companyService",function(n,t,i){function r(){t.get(appSettings.reservationServer+"Company").then(function(n){u=n.data})}function f(n){t({method:"POST",url:appSettings.reservationServer+"Company",data:n}).then(function(){i.path("/Company/");r()})}function e(n){t({method:"DELETE",url:appSettings.reservationServer+"Company/"+n.id}).then(function(){r()})}function o(n){return t({method:"GET",url:appSettings.reservationServer+"Company/"+n}).then(function(n){return n.data})}function s(n){t({method:"PUT",url:appSettings.reservationServer+"Company/"+n.id,data:{company:n}}).then(function(){i.path("/Company/");r()})}function h(){u=[]}var u=[];return r(),{get:o,getCompanies:function(){return u},clearCompanies:h,addCompany:f,deleteCompany:e,changeCompany:s}});angular.module("ReservationStudio").directive("ngCompanyDetails",function(){return{templateUrl:rootUrl+"Company/companyDetails.html",scope:{company:"="}}}),function(){function n(n,t){function i(){var n=[{room:{id:1,roomNumber:"12"},reservations:[{id:1,date:new Date("2017-03-7"),time:0,company:{id:12,name:"Google is de pizza voor jou en mij"}},{id:2,date:new Date("2017-03-7"),time:1,company:{id:12,name:"Google"}},{id:3,date:new Date("2017-03-7"),time:2,company:{id:12,name:"Google"}}]},{room:{id:2,roomNumber:"24"},reservations:[{id:4,date:new Date("2017-03-7"),time:0,company:{id:12,name:"Google"}},{id:5,date:new Date("2017-03-7"),time:2,company:{id:12,name:"Google"}},]}];return t.when(n)}return{get:i}}angular.module("ReservationStudio").service("AgendaService",["$http","$q",n])}(),function(){"use strict";function n(n,t){function u(){r()}function f(n){return i.searchRoomNumber?n.room.roomNumber.indexOf(i.searchRoomNumber)!=-1:!0}function e(){var n,r,t;for(i.dates=[],n=0,r=i.visibleDays;n<r;n++)t=new Date(i.date),t.setDate(i.date.getDate()+n),i.dates.push(t)}function o(n,i){var r=t("filter")(n,function(n){return i.toLocaleDateString()==n.date.toLocaleDateString()}),u,f;if(r.length<3)for(u=0,f=3-r.length;u<f;u++)r.push("");return r}function s(){i.pickerOpen=!i.pickerOpen}function r(){e();n.get(i.date,i.dates[i.dates.length-1]).then(function(n){i.reservations=n})}function h(n,t){console.log("reservation",n);console.log("time:"+t)}var i=this;i.date=new Date(Date.now());i.dates=[];i.pickerOpen=!1;i.visibleDays=7;i.reservations=[];i.searchRoomNumber="";i.filterRooms=f;i.getReservation=o;i.openDatepicker=s;i.updateAgenda=r;i.viewReservation=h;u()}angular.module("ReservationStudio").controller("HomeController",["AgendaService","$filter",n])}();angular.module("ReservationStudio").controller("reservationController",["$scope","$window","reservationFactory","companyService","RoomService",function(n,t,i,r,u){function f(){ReservationFactory.getReservations().then(function(t){n.reservations=t.data},function(n){t.alert("Unable to load reservation data: "+n.message)})}n.reservations;n.companies=r.getCompanies();n.rooms=u.getRooms();f();n.addReservation=function(){n.newReservation.status!=="Confirmed"&&ReservationFactory.addReservation(n.newReservation).then(function(i){t.alert("Inserted reservation! Refreshing reservation list.");n.reservations.push(i.data)},function(n){t.alert("Unable to insert reservation: "+n.message)})}}]);(function(){angular.module("ReservationStudio").factory("reservationFactory",["$http",function(n){var i=appSettings.reservationServer+"Reservation",t={};return t.getReservations=function(){return n.get(i)},t.getReservation=function(t){return n.get(i+"/"+t)},t.addReservation=function(t){return n.post(i,t)},t.updateReservation=function(t){return n.put(i+"/"+t.ID,t)},t.deleteReservation=function(t){return n.delete(i+"/"+t)},t}])});angular.module("ReservationStudio").service("reservationService",function(n,t,i){function u(){t.get(appSettings.reservationServer+"Reservation").then(function(n){r=n.data})}function f(n){t({method:"POST",url:appSettings.reservationServer+"Reservation",data:n}).then(function(){i.path("/Reservation/");u()})}function e(){r=[]}var r=[];return u(),{getReservations:function(){return r},clearReservations:e,addReservation:f}}),function(){angular.module("ReservationStudio").controller("RoomEditController",["RoomService","room",function(n,t){function r(){}var i=this;i.roomId=t.id;i.roomNumber=t.roomNumber;i.roomDescription=t.roomDescription;i.maxAmount=t.maxAmount;i.addRoom=r}])}();angular.module("ReservationStudio").directive("ngRoomDetails",function(){return{templateUrl:rootUrl+"Room/roomDetails.html",scope:{room:"="},require:"^ngController",link:function(n,t,i,r){n.changeRoom=r.changeRoom;n.deleteRoom=r.deleteRoom}}});angular.module("ReservationStudio").controller("RoomController",["RoomService",function(n){var t=this;t.getRooms=function(){return n.getRooms()};t.addRoom=function(){var i={roomNumber:t.roomNumber,roomDescription:t.roomDescription,maxAmount:t.maxAmount};n.addRoom(i);$("#confirmAddRoom").modal("hide")};t.changeRoom=function(t){n.changeRoom(t)};t.deleteRoom=function(){var i={id:t.room,roomNumber:t.roomNumber,roomDescription:t.roomDescription,maxAmount:t.maxAmount};n.deleteRoom(i.id)}}]);angular.module("ReservationStudio").service("RoomService",function(n,t,i){function r(){t.get(appSettings.reservationServer+"Room").then(function(n){u=n.data})}function f(n){return t({method:"GET",url:appSettings.reservationServer+"Room/"+n}).then(function(n){return n.data})}function e(n){t({method:"POST",url:appSettings.reservationServer+"Room",data:n}).then(function(){i.path("/Room/");r()})}function o(n){t({method:"PUT",url:appSettings.reservationServer+"Room/"+n.id,data:{room:n}}).then(function(){i.path("/Room/");r()})}function s(n){t({method:"DELETE",url:appSettings.reservationServer+"Room/"+n}).then(function(){r()})}function h(){u=[]}var u=[];return r(),{get:f,getRooms:function(){return u},clearRooms:h,addRoom:e,changeRoom:o,deleteRoom:s}});
//# sourceMappingURL=app.min.js.map